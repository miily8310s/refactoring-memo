# 第２章 リファクタリングの原則

## リファクタリングの定義

- 「リファクタリング」という用語は名詞、もしくは動詞として使われている
- 名詞として
  - 外部から見たときの振る舞いを保ちつつ、理解や修正が簡単になるように、ソフトウェアの内部構造を変化させること
  - 名前のついたリファクタリングがこれに該当
- 動詞として
  - 一連のリファクタリングを適用して、外部から見たふるまいの変更なしに、ソフトウェア再構築すること
- リファクタリングは
  - 振る舞いを保ちつつ小さなステップを適用していくもの
  - コードを「理解や修正が容易になるように」変化させていくもの
- 個々のリファクタリングは非常に小さいステップでできている
  - その結果、コードが壊れている状態は非常に短く、いつでも中断が可能
- リファクタリング中に気がついたバグは、リファクタリング後も残っているべき

## 二つの帽子

- リファクタリングを実施する際は、作業を二つの活動に区分すべき
- 二つの活動 = 機能追加 / リファクタリング
- 機能追加を行うときは、既存のコードを変更してはいけない
- リファクタリングでは、
  - 逆に機能追加は行わないようにする
  - テストの追加はしない
- 重要なのは、どちらの帽子をかぶっているか、およびプログラミングの仕方のちょっととした違いを、常に意識しておくこと

## リファクタリングを行う理由
