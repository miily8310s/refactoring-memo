# 第３章 コードの不吉な臭い

- 本章ではいつリファクタリングするか迷ったときの指針となる臭いの種類、その対処法となるリファクタリングを解説

## 不可思議な名前

- 明快なコードにするために最も重要なのは、適切な名前付け
  - 関数、モジュール、変数、クラスなどの名前
- 悲しいことに、名前付けは、プログラミングで最も難しいこと二つのうちの一つ
- 名前の変更がリファクタリングで最も行われる作業

### 対処するリファクタリング

- 「**関数宣言の変更**」
- 「**変数名の変更**」
- 「**フィールド名の変更**」

## 重複したコード

- 同じ構造のコードが２箇所以上にある場合、一つにまとめることができると、より良いプログラムになる
- 重複したコードの修正時には、重複部分をもれなく見つけ、すべてに同様の修正を施す必要がある

### 対処するリファクタリング

- 「**関数の抽出**」
  - 抽出したメソッドを元のメソッド本体から呼ぶようにする
- 「**ステートメントのスライド**」
  - 似てはいるが完全に同じではない場合がある
  - コードを整え、似た箇所を寄せておくと抽出しやすくなる
- 「**メソッドの引き上げ**」
  - 共通の親クラス配下のサブクラス間に重複したコードがある場合

## 長い関数

- 明快なコードにするために最も重要なのは、適切な名前付け
  - 関数、モジュール、変数、クラスなどの名前
- 悲しいことに、名前付けは、プログラミングで最も難しいこと二つのうちの一つ
- 名前の変更がリファクタリングで最も行われる作業

### 対処するリファクタリング

- 「**関数の抽出**」
- 「**変数名の変更**」
- 「**フィールド名の変更**」
